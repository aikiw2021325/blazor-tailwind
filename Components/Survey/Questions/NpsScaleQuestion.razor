@using BlazorTailwindApp.Models.Entities

<div>
    <div class="flex flex-wrap gap-2 justify-center">
        @for (int i = 0; i <= 10; i++)
        {
            var score = i;
            <button type="button"
                    @onclick="() => OnSelect(score)"
                    class="w-12 h-12 rounded-lg border-2 font-semibold transition-all
                           @(SelectedValue == score
                               ? "bg-blue-600 border-blue-600 text-white"
                               : "border-gray-300 text-gray-600 hover:border-blue-400 hover:bg-blue-50")">
                @score
            </button>
        }
    </div>
    <div class="flex justify-between mt-2 text-sm text-gray-500 px-1">
        <span>@(Question.NpsLowLabel ?? "全くそう思わない")</span>
        <span>@(Question.NpsHighLabel ?? "非常にそう思う")</span>
    </div>
</div>

@code {
    [Parameter] public Question Question { get; set; } = null!;
    [Parameter] public int? SelectedValue { get; set; }
    [Parameter] public EventCallback<int?> SelectedValueChanged { get; set; }

    private async Task OnSelect(int value)
    {
        SelectedValue = value;
        await SelectedValueChanged.InvokeAsync(value);
    }
}
